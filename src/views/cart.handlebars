<div class="cart-container">
  <h1 class="cart-title">Productos en el carrito de {{user.first_name}}</h1>

  {{#each products}}
    <div class="cart-item">
      <p class="item-info">id: {{_id._id}}</p>
      <p class="item-info">name: {{_id.title}}</p>
      <p class="item-info">quantity: {{quantity}}</p>
      <p class="item-info">price: $ {{_id.price}}</p>
      <hr class="item-divider"/>
    </div>
  {{/each}}
  
  <button id="finishOrder" class="finish-button">Finalizar compra</button>
</div>
<script>
  
    const finishOrder = document.getElementById("finishOrder");

   
      finishOrder.addEventListener('click', () => {
        fetch(`/api/carts/{{user.cart}}/purchase`, {
          method: 'POST', 
        })
        .then(response => {
          if (response.ok) {
            req.logger.info("TICKET GENERATED");
          } else {
            req.logger.error('Error al finalizar compra.');
          }
        })
        .catch(error => {
          req.logger.error('Error en la solicitud');
        });
      });
</script>
<script src="/socket.io/socket.io.js"></script>
<script src="js/index.js"></script>

   
